# このソフトについて

このソフトはカスタマイズ性が高く、楽しく日記を書く習慣を続けられる事をテーマとした文字通りFunなDiaryを目指している日記アプリです。
グリッドに合わせてパーツを配置し、自分好みのレイアウトで日誌を記述することが出来ます。

## 使用ライブラリ

- tauri: Fundiaryで使用しているフレームワーク。
- react: UIはreactで記述しています。
- tailwindcss: CSSはhtmlクラスに書き込んでください。
- biome: コードフォーマッタ。コードのフォーマットは基本的にbiomeに任せてください。
- arktype: 型バリデーションに使用。データベースへのアクセスなどの際に使用。
- jotai: グローバルなステート管理に使用。
- ts-pattern: rustのmatch式のような構文を実現。
- swiper: スワイパーUIを作成したい場合に使用

## ファイル構成

- FunDiary
  - src
    - app
      - diary-pane
        - 日記のパーツの定義ファイルを置く。日記のパーツデータは高度に型付けされています。型を把握して、既存のファイルを参考に作成してください。作成したパーツは`fundiary.ts`内でアプリに登録します。
        - plugin
          - 後にプラグイン機能を追加しようと考えています。が、現時点では優先事項ではないため触らなくて大丈夫です。
      - アプリに必要な基本機能などのベースを記述
    - components
      - 基本的に機能毎にフォルダを作ってその中にtsxファイルを作成してコンポーネントを記述
    - db
      - アプリのデータベースに関するファイルを配置。データベースのテーブル毎にファイルを作成し、sql命令のない抽象化された関数としてdbへのアクセスを提供する。ただ機能が多すぎる場合は一つのテーブルでも複数ファイルに分けても良いかも。その際はファイルを分けた理由を記載してください。
    - libs
      - アプリに関係ないユーティリティを配置。
    - pages
      - アプリ内で表示するページの定義を置く。作成したページは`fundiary.ts`内でアプリに登録します。
    - fundiary.ts
      - Fundiaryの初期化処理やFundiaryアプリの機能登録などに使うシングルトンオブジェクトの保持などを担当。diary-paneやpage等はこのファイルのシングルトン経由で登録してください。
    - ui.tsx
      - reactのトップファイル。アプリの全ページに影響するUI等はここに記述。
    - main.tsx
      - reactの描画とfundiaryの初期化関数を呼び出しているだけ。基本的には触らないで大丈夫なはず。
    - ui.css
      - cssを記述。cssはtailwindcssを使っているため、テーマ色の追加などでしか使う事はないと思います。
  - src-tauri
    - Fundiaryはrustを使って無いため、rustをいじる場合は理由とともにユーザーへ確認を行ってください。
  - fundiary-api
    - api
      - Fundiaryで将来構想しているプラグインシステムにおいて、プラグインからのページ等の登録や権限管理を行うファイルを配置する予定。
    - misc
      - その他、Fundiary本体でもプラグインでも使う基本的な機能を持つファイルを配置。Fundiary本体からこちらに移動してくるファイルがあるかも知れません。もし移動させたい場合はユーザーに理由と確認を求めてください。
